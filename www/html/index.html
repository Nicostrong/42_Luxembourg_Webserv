<html>
	<head>
		<title>WEBSERVER - index - WEBSERVER</title>
		<link rel="stylesheet" href="/styles/style.css">
		<link rel="icon" href="/images/favicon.png" type="image/png">
		<script src="/scripts/cookie.js"></script>
		<script src="/scripts/validation_time_cookie.js"></script>
		<script src="/scripts/session.js"></script>
	</head>
	<body>
		<header class="header">
			<a href="/" class="banner-link">
				<h1>Welcome on the WebServer of GneugneuTeam.</h1>
			</a>
		</header>
		<nav class="navbar">
			<a	href="/html/upload.html">Upload</a>
			<a	href="/html/download.html">Download</a>
			<a	href="/html/delete.html">Delete</a>
			<a	href="/html/pwd_generator.html">PWD generator</a>
			<a	href="/cgi/hello_world.py">Hello World Python</a>
			<a	href="/cgi/hello_world.php">Hello World PHP</a>
			<a	href="/cgi/timeout.py">Timeout</a>
			<a	href="/cgi/fish.py">Fish</a>
			<a	href="/cgi/notfound.py">Not Found GET</a>
		</nav>
		<div class="container">
			<div class="welcome-message">
				Bienvenu "<span id="pseudo-display">Unknown</span>" sur le site
			</div>
			<div id="login-section" class="form-container">
				<p>Connectez-vous pour personnaliser votre experience</p>
				<form method="GET" action="/cgi/set_cookie.py" onsubmit="return validateDuration()">
					<div>
						<input type="text" name="pseudo" placeholder="Entrez votre pseudo" required maxlength="50" minlength="2">
					</div>
					<div>
						<input type="number" name="duration" id="duration" placeholder="Duree (en secondes)" min="60" required>
					</div>
					<div>
						<button type="submit">Se connecter</button>
					</div>
				</form>
				<div class="info">
					Le pseudo sera sauvegarde avec un cookie valide pendant la duree specifiee (minimum 60s).
				</div>
			</div>
			<div id="user-section" class="hidden">
				<div class="user-status authenticated">
					<p>Bonjour <span id="pseudo-user">Unknown</span> !</p>
					<p>Vous etes connecte et votre session est active.</p>
					<div class="info">
						Profitez de votre visite personnalisee, <span id="pseudo-welcome">Unknown</span> !
					</div>
				</div>
				<form method="POST" action="/cgi/unset_cookie.py">
					<button type="submit" class="logout-btn">Unset the cookie</button>
				</form>
			</div>
			<div id="status-section" class="user-status">
				<div class="info">
					<span id="status-message">Chargement...</span>
				</div>
			</div>
		</div>
	</body>
</html>
