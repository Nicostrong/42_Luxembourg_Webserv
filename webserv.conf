# #  #  #  # #### ###   ### #### ###  #    # #### ###
# #   ##   # #    #  # #    #    #  # #    # #    #  #
# #   ##   # ###  ###   ##  ###  ###  #   #  ###  ###
# #  #  #  # #    #  #    # #    # #   # #   #    # #
#  ##    ##  #### ###  ###  #### #  #   #    #### #  #
#
# Configuration of Webserver of Dream team (or Hell team)
#
server {

    listen					127.0.0.1:8080;
    server_name				localhost;

    root				    ./www/html;
    index				    index.html;

    client_max_body_size	5M;

    # Default error pages
    error_page				403		./errors/403.html;
    error_page				404		./errors/404.html;
    error_page				409		./errors/409.html;
    error_page				413		./errors/413.html;
    error_page				500		./errors/500.html;

    location / {
        autoindex			off;
        limit_except 		GET POST DELETE HEAD { deny all; }
        return				301		/www/html/index.html;
    }

    location /images {
        root                ./www/images;
        autoindex           on;
    }

    location /cgi-bin/ {
        cgi_pass            /usr/bin/php-cgi;
        fastcgi_pass		unix:/var/run/fcgiwrap.socket;
        include				fastcgi_params;
    }

    location /uploads {
        root				./www/uploads;
        limit_except		POST { deny all; }
    }

    location /downloads {
        root                ./www/files;
        autoindex           on;
    }
}

